# Дмитрий Воловиков - "LyceumDocBot”

### Группа: 11 - И - 1

### Электронная почта: volovikov.dvs@gmail.com

### Tg: @Pug0077


**[ НАЗВАНИЕ ПРОЕКТА ]**

LyceumDocBot

**[ ПРОБЛЕМНОЕ ПОЛЕ ]**

В образовательном процессе лицея НИУ ВШЭ используется множество официальных документов: устав лицея, правила внутреннего распорядка, учебные планы, требования к итоговым работам, расписания, регламенты и др. Эти документы содержат важную информацию для учеников и преподавателей, например, права и обязанности участников образовательного процесса, академические требования, график учебного года и прочие сведения.

Проблема заключается в сложности быстрого получения нужной информации из этих документов. В настоящее время, чтобы найти ответ на конкретный вопрос (например, «каков порядок пересдачи экзамена?» или «сколько элективных курсов должен выбрать ученик?»), учащемуся или учителю часто приходится вручную просматривать длинный PDF-файл или текст на сайте лицея. Поиск нужных сведений затруднён из-за объёма документов и формального языка, а простого поискового инструмента по всем документам сразу может не быть. Это приводит к потерям времени: невозможность оперативно найти ответ мешает быстро принять решение или получить нужную информацию. Кроме того, не все учащиеся уверенно ориентируются в структуре документов, что усиливает проблему.

**[ ЗАКАЗЧИК / ПОТЕНЦИАЛЬНАЯ АУДИТОРИЯ ]**

Целевой аудиторией проекта являются:

* Учащиеся лицея (10–11 класс) – старшеклассники в возрасте ~15–17 лет, активно пользующиеся технологиями. Они могут не знать наизусть правила и регламенты, но часто нуждаются в справках: от требований к проектным работам до правил пропусков занятий. Для них важна быстрота и понятность получения информации – вместо чтения длинного документа им удобнее задать вопрос в естественной форме и сразу получить ответ.

* Преподаватели и кураторы – педагоги лицея, классные руководители. Им приходится отвечать на вопросы учащихся о требованиях и правилах или самим уточнять регламенты (например, оформление проектов, правила оценивания). Учителя ценят достоверность информации и экономию времени; им удобен инструмент, где можно быстро найти официальные разъяснения, чтобы дать корректный ответ ученику или принять решение в соответствии с правилами.

* (Вторичная аудитория) Администрация лицея – методисты, руководство. Для них продукт интересен как инструмент, повышающий информированность и самостоятельность учащихся и педагогов. Администрация является фактическим заказчиком проекта: им важно, чтобы информация доносилась корректно, а нагрузка на сотрудников (например, ответственных за консультации) снижалась за счёт автоматизации ответов на частые вопросы.

Каждая из групп имеет свои особенности. Учащиеся привыкли к интерактивным сервисам и ожидают простой интерфейс (вопрос-ответ как чат). Преподаватели могут обращать внимание на достоверность ответа и ссылку на источник (чтобы убедиться, что ответ соответствует официальному документу). Администрации важно, чтобы ответы были строго согласно документам, без искажений. Учёт этих особенностей позволит спроектировать удобный для всех пользователей продукт.

**[ АППАРАТНЫЕ / ПРОГРАММНЫЕ ТРЕБОВАНИЯ ]** 

Серверная часть: Продукт планируется реализовать как веб-сервис с использованием технологий обработки естественного языка (LLM – Large Language Model). Для развертывания сервера потребуются следующие минимальные ресурсы:

* Сервер / хостинг: операционная система Linux (Ubuntu 20.04+ или аналогичная) либо Windows Server. Рекомендуется Linux для лучшей поддержки ML-библиотек.

* Процессор: современный CPU с 4+ ядрами (например, Intel Core i5 / AMD Ryzen 5 и выше) для обработки запросов и баз данных.

* Оперативная память: минимум 16 ГБ RAM. Значительный объем памяти необходим для загрузки модели вопрос-ответ и индекса документов. Оптимально 32 ГБ, особенно при использовании больших моделей или обработки нескольких запросов одновременно.

* GPU (опционально): для ускорения работы модели желательно наличие видеокарты с поддержкой NVIDIA CUDA и видеопамятью не менее 8 ГБ (например, NVIDIA GeForce RTX 3060). Наличие GPU существенно ускорит генерацию ответов нейросетью. Если GPU нет, модель сможет работать на CPU, но скорость ответа будет ниже.

* Хранилище: ~10 ГБ свободного места на диске для хранения самих документов, индексов и модели. Размер модели ~2–4 ГБ (для 1.5-миллиардной модели), документы и встроенные индексы занимают дополнительно несколько сотен мегабайт. SSD-накопитель предпочтителен для быстрых операций.

* Сеть: подключение к интернету для загрузки модели при деплое и для доступа пользователей (если сервис развернут удалённо). Внутренняя сеть школы может использоваться, если планируется локальное развертывание.

* Браузер (для пользователей): пользователей не требуется установка специального ПО – нужен современный веб-браузер (Google Chrome, Mozilla Firefox, Safari или Microsoft Edge актуальных версий) на любом устройстве (компьютер, планшет, смартфон) с подключением к сети. Приложение разрабатывается как кросс-платформенное веб-приложение, поэтому специфические требования к ОС пользователя отсутствуют (достаточно Windows 10+, macOS 11+ или современная мобильная ОС).

Программные требования:

* На сервере должен быть установлен интерпретатор Python 3.8+ (для выполнения серверной части).

* Для работы модели потребуются библиотеки машинного обучения (PyTorch 1.13+), фреймворк Transformers, библиотека для эмбеддингов SentenceTransformers, и FAISS для быстрого поиска по векторам.

* Веб-сервер будет работать под управлением фреймворка Flask (либо аналогичного, например FastAPI) в сочетании с WSGI-сервером (Gunicorn или Waitress) для продакшена.

* База данных: требуется СУБД PostgreSQL 13+ (либо SQLite для тестирования) для хранения данных пользователей, истории запросов и ссылок на документы.

* На стороне клиента приложение будет работать в браузере, поэтому потребуется поддержка HTML5, CSS3 и ES6 JavaScript (большинство современных браузеров удовлетворяют этим требованиям).

Резюмируя, продукт должен стабильно работать на сервере со средними характеристиками, и быть доступен любому пользователю через браузер без установки дополнительного ПО. Минимальная версия ОС и браузера: Windows 10 / Ubuntu 20.04; браузер Chrome 90+, Firefox 88+ или эквивалент.

**[ ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ ]**

Основные функции, которые будет выполнять разрабатываемое приложение **LyceumDocBot**, перечислены ниже. Каждое требование соответствует одной или нескольким возможностям продукта:

* **Регистрация и вход в систему.** Пользователь (ученик или преподаватель) может создать учётную запись, указав **email (логин)** и пароль. Реализована авторизация: вход по логину и паролю, а также возможность безопасного выхода (логаута). Пользователь может изменять параметры профиля и **менять пароль в профиле**. (Все операции с аккаунтом — регистрация, вход, выход, редактирование профиля и смена пароля — считаются одним функциональным блоком управления аккаунтом.)

* **Задание вопроса в естественной форме.** Пользователь может в специальном поле ввести вопрос на естественном языке, связанный с информацией из документов лицея. Например: «Какие нужны документы для участия в олимпиаде?» или «Сколько длится учебный модуль?». После отправки вопроса система его обрабатывает и ищет ответ.

* **Автоматический поиск ответа по документам.** На стороне сервера вопрос пользователя анализируется, и выполняется семантический поиск по базе загруженных официальных документов лицея. Система находит наиболее релевантные фрагменты текстов (например, из Правил внутреннего распорядка, Устава, приказов и т. д.), которые могут содержать ответ на вопрос.

* **Генерация ответа с указанием источников.** На основании найденных фрагментов языковая модель формирует связный ответ на вопрос пользователя. Ответ представляет собой короткий текст (несколько предложений) с **ссылками-цитатами вида `[S#]` на использованные фрагменты**. Для повышения достоверности система использует MVP-проверку: если ссылки `[S#]` отсутствуют или некорректны, система делает повторную попытку генерации либо сообщает «не знаю» и предлагает уточнить вопрос.

* **Отображение источников информации.** Вместе с ответом приложение отображает список использованных источников — названия документов (и при возможности номера страниц или разделов), откуда взята информация. Например, будет показано: «[S1] Устав лицея, стр. 5», «[S2] Правила внутреннего распорядка, п. 10». При нажатии на источник система открывает **viewer с извлечённым текстом** и подсвечивает релевантный фрагмент; дополнительно доступна кнопка **«Открыть оригинальный PDF»** для подробного ознакомления.

* **Поиск по ключевым словам (тексту).** Помимо диалогового режима, реализована возможность классического поиска: пользователь может ввести ключевое слово или фразу, и система найдёт упоминания этого текста в базе документов. Результаты выдаются списком документов и контекстов (фрагментов), где встречается запрос, с возможностью перейти к нужному месту в viewer.

* **Загрузка новых документов в базу знаний.** Администратор системы может добавлять новые документы для индексирования через интерфейс «Добавить документ». Система обрабатывает документ: извлекает текст, разбивает на фрагменты и добавляет в поисковый индекс. После успешной обработки документ получает статус **`review`** и далее может быть опубликован (см. требование 9). Функция доступна только роли администратора.

* **Сохранение и обновление данных на сервере.** Все добавленные документы хранятся на сервере (в базе данных и/или файловом хранилище), то есть данные не зависят от устройства пользователя. Пользователь, зайдя под своим логином на любом устройстве, работает с актуальной базой документов. Также сохраняются результаты действий: например, история вопросов привязана к аккаунту и доступна с любого устройства.

* **Разграничение доступа и административные функции.** В системе предусмотрены уровни доступа: роль **`user`** и роль **`admin`**. Обычные пользователи могут задавать вопросы и просматривать документы/источники. Администратор имеет дополнительные функции: загрузка документов, **модерация документов (публикация/отклонение с причиной/удаление)** и управление пользователями (изменение роли user/admin, блокировка/разблокировка).

* **История запросов и экспорт ответов.** Система хранит историю предыдущих запросов пользователя и полученных ответов. Пользователь может просмотреть список своих вопросов, повторно открыть ответ и при необходимости повторить запрос. Также предусмотрен экспорт: пользователь может сохранить ответ вместе со ссылками на источники в виде **PDF-файла** (для печати или отправки).

**[ ПОХОЖИЕ / АНАЛОГИЧНЫЕ ПРОДУКТЫ ]**

При разработке данного продукта были проанализированы существующие решения, так или иначе связанные с поиском информации и ответами на вопросы пользователей:

* Поиск по сайту лицея и чтение документов вручную. В настоящий момент основной "конкурент" нашего решения – это стандартный поиск информации через сайт лицея или просмотр PDF-файлов. Многие учебные заведения выкладывают уставы, положения, расписания на своих сайтах. Пользователь может попытаться воспользоваться встроенным поиском по сайту (если тот индексирует содержимое PDF) или открыть документ и искать по ключевым словам (Ctrl+F). Однако такой подход не слишком удобен: нужно точно знать, в каком документе искать, и сформулировать точную ключевую фразу. Например, разные документы могут по-разному формулировать сходные понятия, и пользовательский поиск может пропустить релевантные места. Отличие LyceumDocBot: наш продукт осуществляет семантический поиск – понимает суть вопроса и находит информацию, даже если слова вопроса не дословно совпадают с текстом в документе. Кроме того, обычный поиск не формулирует ответ, а наш бот сам представит выдержку в удобной форме и укажет источник.

* Универсальные голосовые и чат-ассистенты (Siri, Алиса, ChatGPT и др.). С развитием ИИ стало популярным спрашивать общий искусственный интеллект (например, ChatGPT от OpenAI или Bing Chat) на разные темы. Эти модели могут дать совет или справку. Однако по узкоспециализированным вопросам (таким как внутренние правила конкретного лицея) они часто не дают точного ответа или могут галлюцинировать – придумывать ответ, основанный не на фактах, а на обобщённых данных. Они не имеют доступа к конкретным документам нашего учебного заведения. Например, ChatGPT может догадаться о типичных правилах школы, но не гарантирует соответствие именно правилам лицея НИУ ВШЭ. Наш продукт выгодно отличается тем, что опирается исключительно на официальные документы лицея. Он не генерирует ответ «из головы» – каждый вывод подтверждается ссылкой. Таким образом, точность и достоверность информации намного выше, чем у универсальных ассистентов.

* FAQ-боты и справочные системы образовательных учреждений. Некоторые вузы и школы внедряют чат-ботов (например, в Telegram) для ответов на часто задаваемые вопросы. Обычно такие боты работают по принципу базы знаний: в них вручную заложены пары вопрос-ответ или простые правила. Пример – бот справочной службы, который может ответить на вопросы типа "как подать заявление на стипендию". Ограничение подобных систем в том, что они отвечают только на предусмотренные вопросы и фразы. Если спросить нечто нестандартное или сформулировать вопрос иначе, бот может не понять. Кроме того, они выдают заранее заготовленный ответ, который может устареть, если правила поменяются. Наш продукт, напротив, является динамическим: он анализирует сами документы. Даже если вопрос ранее не встречался, бот постарается найти ответ в текстах. Обновление базы документов сразу отражается на ответах (нет необходимости перепрограммировать ответы).

* Справочные разделы на сайте (традиционные). Многие организации публикуют статические разделы "Вопрос-ответ" на сайте, где перечислены популярные вопросы и ответы на них. Это полезно, но редко охватывает все возможные вопросы. В случае лицея такой раздел может содержать общую информацию (например, "Во сколько начинаются занятия?"), но не будет покрывать специфические детали всех документов. Наш проект расширяет идею справочного раздела, делая его интерактивным: пользователь может задать любой вопрос, и система сама найдет ответ, вместо того чтобы пользователя заставлять изучать длинный перечень Q&A.

Таким образом, прямого аналога, который бы работал именно с документами лицея и интерактивно отвечал на вопросы, на данный момент нет. Существующие решения либо слишком общие, либо требуют ручной поддержки. LyceumDocBot заполнит эту нишу, обеспечивая удобный, точный и автоматический способ получения сведений из официальных источников.


**[ ИНСТРУМЕНТЫ РАЗРАБОТКИ, ИНФОРМАЦИЯ О БД ]**

Для реализации проекта будет использован следующий стек технологий:

* Языки программирования: основной язык бекенд-разработки – Python. Он выбран благодаря широким возможностям в области NLP и наличии необходимых библиотек для работы с языковыми моделями. Для frontend-части (интерфейса пользователя) используются HTML5, CSS3 и JavaScript. Вероятно, для стилизации и адаптивности интерфейса будет применён CSS-фреймворк Bootstrap. Возможно использование небольших скриптов на JavaScript (например, AJAX-запрос для получения ответа без перезагрузки страницы), но основная логика будет выполняться на сервере.

* Среда разработки и контроль версий: разработка ведётся в Visual Studio Code (с установленными расширениями для Python и HTML) и PyCharm. Код хранится в системе контроля версий Git, удалённый репозиторий размещён на GitHub. Это позволяет отслеживать изменения и сотрудничать с научным руководителем при проверке кода (код ревью).

Фреймворки и библиотеки (backend):

* Flask (Python) – микрофреймворк для веб-приложения, будет обрабатывать HTTP-запросы, управлять сессиями пользователей и шаблонами страниц. Альтернативно рассматривался FastAPI из-за удобства описания API, но Flask выбран за простоту, так как сложного API не требуется.

* PyTorch – фреймворк для машинного обучения, необходимый для загрузки и работы предобученной языковой модели (нейросети). Также может использоваться HuggingFace Transformers для удобного доступа к модельным архитетурам и загрузки конкретной модели.

* Sentence Transformers – библиотека для вычисления семантических эмбеддингов текста. Планируется использовать pretrained-модель (например, all-MiniLM-L6-v2) для преобразования текстовых фрагментов документов и пользовательского запроса в векторное представление.

* FAISS (Facebook AI Similarity Search) – библиотека для быстрого поиска ближайших соседей в векторном пространстве. Она будет использована для хранения эмбеддингов фрагментов документов и быстрого поиска релевантных кусочков текста по запросу (семантический поиск). Это существенно ускоряет работу системы при большом количестве данных.

* SentenceTransformers Cross-Encoder – для улучшения качества поиска планируется использовать модель переранжирования результатов: cross-encoder, обученный на задачах поиска вопрос-ответ (например, cross-encoder/ms-marco-MiniLM-L-6-v2). Он будет тонко ранжировать топ-результаты поиска, повышая точность окончательного ответа.

* PyPDF2 / pdfplumber – библиотеки для извлечения текста из PDF документов. Они потребуются на этапе загрузки новых документов: чтобы встроить текст PDF в базу знаний, нужно распарсить файл. Возможно использование pypdf или PyMuPDF (fitz) для более качественного извлечения с сохранением структуры.

База данных: для хранения данных будет использоваться реляционная СУБД. Выбор – PostgreSQL, т.к. он надёжен и хорошо поддерживается. В базе данных будут таблицы: users (пользователи системы: логин, хеш пароля, роль), documents (список документов: название, путь к файлу или хранилищу, дата добавления, возможно, категория), fragments (таблица фрагментов документов: текст фрагмента, ссылка на документ и позицию, эмбеддинг – может храниться отдельно), queries (история вопросов: пользователь, текст вопроса, дата, ссылки на найденные доки или сохранённый ответ). Для хранения собственно больших текстовых данных (фрагментов) и эмбеддингов, возможно, будет использоваться гибридный подход: хранить эмбеддинги в файле индекса FAISS, а метаданные – в БД. В рамках разработки допустимо использовать SQLite как упрощённую встроенную СУБД для отладки функционала без развёртывания PostgreSQL.

Инструменты разработки: помимо IDE и Git, будут использоваться утилиты для проектирования и отладки. Например, Postman (для тестирования веб-запросов и API), GitHub Projects или Trello для планирования задач, pytest для модульного тестирования критических частей (например, функции поиска по тексту). Для работы с нейросетями – Google Colab или Kaggle (на начальном этапе, для экспериментов с моделью и сборки индекса, используя их GPU).


**[ ЭТАПЫ РАЗРАБОТКИ ]**

 разработка ИИ модуля
 
 Разработка интерфейса и интеграция компонентов
 
 тестирование и оценка качества продукта

**[ ВОЗМОЖНЫЕ РИСКИ ]**

Реализация проекта сочетает веб-разработку и работу с технологиями искусственного интеллекта, поэтому существует ряд рисков. Оценим наиболее значимые из них и кратко поясним их суть:

* Недостаток опыта в ML/NLP: Проект включает сложные компоненты (нейросетевые модели, семантический поиск), с которыми у автора может быть ограниченный опыт. Есть риск, что интеграция языковой модели или тонкая настройка поиска займёт больше времени, чем планируется, или столкнётся с трудностями (например, модель даёт неточные ответы, требуется дообучение). Снижение риска: изучение аналогичных решений (опыт сообщества, использование готовых моделей с открытым кодом), консультации с экспертами по ML, упрощение модели в случае крайней необходимости (например, использовать менее сложный алгоритм поиска по ключевым словам как резервный вариант).

* Производительность и требования к ресурсам: Нейросетевой алгоритм может работать медленно на доступном оборудовании. Риск в том, что время ответа бота будет слишком большим (например, >10 секунд) или модель не поместится в память без GPU. Также одновременные запросы нескольких пользователей могут перегрузить систему. План снижения: оптимизация – подобрать облегченную модель (например, компрессия или меньший размер, как 1.5 млрд параметров вместо 7 млрд), использовать GPU на этапе тестирования (в Colab) и при развёртывании на защите, ограничить длину документов и ответа. Кроме того, можно заранее кэшировать результаты для популярных вопросов. Если время будет критично, возможно, добавим индикатор загрузки, чтобы пользователь понимал, что ответ готовится.

* Ограничения по качеству данных: Официальные документы могут быть в неудобном для обработки формате. Например, некоторые PDF могут оказаться отсканированными изображениями (не распознанный текст), из-за чего автоматически извлечь текст не получится. Также возможны ошибки форматирования (таблицы, колонки) – важная информация может потеряться при парсинге. Это риск неполноты базы знаний: бот может не найти ответ, хотя в документе он есть (просто этот фрагмент не был извлечён). Решения: заранее провести OCR для сканов, вручную проверить корректность извлечённого текста из каждого документа. Тестировать парсинг на разных форматах. Закладываем время на обработку документов вручную, если автоматические методы не справятся.

* Высокая сложность проекта и дефицит времени: Проект затрагивает сразу несколько сложных областей (веб + БД + нейросеть). Есть риск не успеть реализовать весь запланированный функционал к дедлайну. Например, может затянуться этап интеграции или отладки (баги в авторизации, проблемы с совместной работой модели и сервера). Меры: строгое следование плану, приоритизация функций. 

